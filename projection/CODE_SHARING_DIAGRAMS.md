# Code Sharing Visual Architecture

## ğŸ“ Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         MONOREPO ROOT                                â”‚
â”‚                    (pnpm workspace)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                â”‚                â”‚
                â–¼                â–¼                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   apps/web   â”‚  â”‚ apps/mobile  â”‚  â”‚  packages/   â”‚
        â”‚              â”‚  â”‚              â”‚  â”‚   shared     â”‚
        â”‚  Next.js +   â”‚  â”‚ React Native â”‚  â”‚              â”‚
        â”‚     MUI      â”‚  â”‚  +  Paper    â”‚  â”‚  Platform-   â”‚
        â”‚              â”‚  â”‚              â”‚  â”‚  Agnostic    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                â”‚                â”‚
                â”‚  workspace:*   â”‚   workspace:*  â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                         imports from
                                 â”‚
                                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  @projection/shared     â”‚
                    â”‚                         â”‚
                    â”‚  âœ“ Types                â”‚
                    â”‚  âœ“ Calculations         â”‚
                    â”‚  âœ“ Config               â”‚
                    â”‚  âœ“ Utils                â”‚
                    â”‚                         â”‚
                    â”‚  ~1,050 lines           â”‚
                    â”‚  100% shared            â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Data Flow: SS & Healthcare Calculator

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            USER INPUT                                 â”‚
â”‚              (Birth Year, Claim Age, Income, etc.)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                â”‚                â”‚
                â–¼                â–¼                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Web Form    â”‚  â”‚ Mobile Form  â”‚  â”‚  Both Use:   â”‚
        â”‚              â”‚  â”‚              â”‚  â”‚              â”‚
        â”‚  Material-UI â”‚  â”‚    Paper     â”‚  â”‚ QuickMode    â”‚
        â”‚  TextField   â”‚  â”‚  TextInput   â”‚  â”‚  Inputs      â”‚
        â”‚  Select      â”‚  â”‚    Picker    â”‚  â”‚              â”‚
        â”‚  Card        â”‚  â”‚    Card      â”‚  â”‚ (from shared)â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                â”‚
                â”‚   onChange     â”‚   onChange
                â”‚                â”‚
                â–¼                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    setState(inputs)                  â”‚
        â”‚                                      â”‚
        â”‚  inputs: QuickModeInputs             â”‚
        â”‚  {                                   â”‚
        â”‚    birthYear: 1965,                  â”‚
        â”‚    claimAge: 67,                     â”‚
        â”‚    incomeToday: 75000,               â”‚
        â”‚    yearsWorked: 30,                  â”‚
        â”‚    stateCode: "CA"                   â”‚
        â”‚  }                                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    User clicks "Compute"
                                 â”‚
                                 â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  computeSSHealthcareResults(inputs)            â”‚
        â”‚  â†‘ FROM @projection/shared                     â”‚
        â”‚                                                â”‚
        â”‚  1. calculateSSA(inputs)                       â”‚
        â”‚     - Calculate AIME from income & years       â”‚
        â”‚     - Calculate PIA from AIME                  â”‚
        â”‚     - Apply age adjustment (67 = FRA)          â”‚
        â”‚     â†’ monthlyAtClaimAge: $2,450                â”‚
        â”‚                                                â”‚
        â”‚  2. calculateMedicare(inputs)                  â”‚
        â”‚     - Base Part B: $185.00                     â”‚
        â”‚     - Check IRMAA (income < $103k)             â”‚
        â”‚     - Part D: $50.00                           â”‚
        â”‚     - Medigap: $150.00                         â”‚
        â”‚     â†’ totalMonthly: $385.00                    â”‚
        â”‚                                                â”‚
        â”‚  3. calculateMedicaid(inputs, stateCode)       â”‚
        â”‚     - Check state eligibility                  â”‚
        â”‚     - Check income limits                      â”‚
        â”‚     â†’ eligible: false                          â”‚
        â”‚                                                â”‚
        â”‚  4. calculateNet()                             â”‚
        â”‚     - SS Monthly: $2,450                       â”‚
        â”‚     - Medicare: -$385                          â”‚
        â”‚     â†’ netMonthly: $2,065                       â”‚
        â”‚                                                â”‚
        â”‚  5. generateClaimAgeSweep()                    â”‚
        â”‚     - Loop ages 62-70                          â”‚
        â”‚     - Compute for each age                     â”‚
        â”‚     â†’ sweep: ClaimAgeSweepPoint[]              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                          Returns results
                                 â”‚
                                 â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    SSHealthcareResults                         â”‚
        â”‚    {                                           â”‚
        â”‚      ssa: {                                    â”‚
        â”‚        aime: 6250,                             â”‚
        â”‚        pia: 2450,                              â”‚
        â”‚        monthlyAtClaimAge: 2450,                â”‚
        â”‚        reductionOrCredit: 0%                   â”‚
        â”‚      },                                        â”‚
        â”‚      medicare: {                               â”‚
        â”‚        partBTotal: 185,                        â”‚
        â”‚        partDTotal: 50,                         â”‚
        â”‚        medigapPremium: 150,                    â”‚
        â”‚        totalMonthly: 385                       â”‚
        â”‚      },                                        â”‚
        â”‚      medicaid: { eligible: false },            â”‚
        â”‚      net: {                                    â”‚
        â”‚        ssMonthly: 2450,                        â”‚
        â”‚        medicarePremiums: 385,                  â”‚
        â”‚        netMonthly: 2065                        â”‚
        â”‚      },                                        â”‚
        â”‚      sweep: [                                  â”‚
        â”‚        { age: 62, ssMonthly: 1715, ... },      â”‚
        â”‚        { age: 67, ssMonthly: 2450, ... },      â”‚
        â”‚        { age: 70, ssMonthly: 3038, ... }       â”‚
        â”‚      ]                                         â”‚
        â”‚    }                                           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                â”‚                â”‚
                â–¼                â–¼                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Web Display â”‚  â”‚Mobile Displayâ”‚  â”‚  Both Use:   â”‚
        â”‚              â”‚  â”‚              â”‚  â”‚              â”‚
        â”‚  MUI Cards   â”‚  â”‚ Paper Cards  â”‚  â”‚ SSHealthcare â”‚
        â”‚  Typography  â”‚  â”‚    Text      â”‚  â”‚   Results    â”‚
        â”‚  ECharts     â”‚  â”‚   Victory    â”‚  â”‚              â”‚
        â”‚              â”‚  â”‚    Native    â”‚  â”‚ (from shared)â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                â”‚
                â–¼                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚           USER SEES RESULTS                  â”‚
        â”‚                                              â”‚
        â”‚  Net Monthly: $2,065                         â”‚
        â”‚  Social Security: $2,450                     â”‚
        â”‚  Medicare: -$385                             â”‚
        â”‚  Chart: Optimal claim age visualization      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Mode Conversion Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Quick Mode (5 questions)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  QuickModeInputs {                                     â”‚  â”‚
â”‚  â”‚    birthYear: 1965                                     â”‚  â”‚
â”‚  â”‚    claimAge: 67                                        â”‚  â”‚
â”‚  â”‚    incomeToday: 75000                                  â”‚  â”‚
â”‚  â”‚    yearsWorked: 30                                     â”‚  â”‚
â”‚  â”‚    stateCode: "CA"                                     â”‚  â”‚
â”‚  â”‚  }                                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    User switches to Detailed
                                 â”‚
                                 â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  quickToDetailed(quickInputs)          â”‚
        â”‚  â†‘ FROM @projection/shared             â”‚
        â”‚                                        â”‚
        â”‚  - Preserves: birthYear, claimAge      â”‚
        â”‚  - Maps: incomeToday â†’ magi            â”‚
        â”‚  - Generates: 35-year earnings history â”‚
        â”‚  - Fills: default Medicare choices     â”‚
        â”‚  - Sets: filingStatus = "SINGLE"       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Detailed Mode (15+ fields)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  DetailedModeInputs {                                  â”‚  â”‚
â”‚  â”‚    birthYear: 1965                                     â”‚  â”‚
â”‚  â”‚    claimAge: 67                                        â”‚  â”‚
â”‚  â”‚    filingStatus: "SINGLE"                              â”‚  â”‚
â”‚  â”‚    magi: 75000                                         â”‚  â”‚
â”‚  â”‚    stateCode: "CA"                                     â”‚  â”‚
â”‚  â”‚    useAIME: false                                      â”‚  â”‚
â”‚  â”‚    earningsHistory: [                                  â”‚  â”‚
â”‚  â”‚      { year: 1990, amount: 30000 },                   â”‚  â”‚
â”‚  â”‚      { year: 1991, amount: 32000 },                   â”‚  â”‚
â”‚  â”‚      ... (35 years)                                    â”‚  â”‚
â”‚  â”‚    ],                                                  â”‚  â”‚
â”‚  â”‚    planType: "ORIGINAL"                                â”‚  â”‚
â”‚  â”‚    hasPartACoverage: true                              â”‚  â”‚
â”‚  â”‚    partDPremiumOverride: undefined                     â”‚  â”‚
â”‚  â”‚    medigapPremiumOverride: undefined                   â”‚  â”‚
â”‚  â”‚    employerHealthcareOffset: 0                         â”‚  â”‚
â”‚  â”‚  }                                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ Package Import Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Web Component (QuickForm.tsx)                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  import {                                                   â”‚
â”‚    QuickModeInputs,  â†â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚    ClaimAge,         â†â”€â”€â”€â”€â”€â”€â”¤                              â”‚
â”‚    getFRA,           â†â”€â”€â”€â”€â”€â”€â”¤  From @projection/shared     â”‚
â”‚    US_STATES         â†â”€â”€â”€â”€â”€â”€â”¤                              â”‚
â”‚  } from '@projection/shared'; â”‚                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  @projection/shared (index.ts)                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  export * from './types/retirement';                        â”‚
â”‚  export * from './calculations/ssaMath';                    â”‚
â”‚  export * from './config/retirement';                       â”‚
â”‚  export * from './utils/formatters';                        â”‚
â”‚  export * from './utils/modeUtils';                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                      â”‚                      â”‚
        â–¼                      â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ types/       â”‚    â”‚ calculations/    â”‚    â”‚ config/      â”‚
â”‚ retirement   â”‚    â”‚ ssaMath          â”‚    â”‚ retirement   â”‚
â”‚              â”‚    â”‚ medicareMath     â”‚    â”‚              â”‚
â”‚ Interfaces   â”‚    â”‚ compute          â”‚    â”‚ Constants    â”‚
â”‚ Enums        â”‚    â”‚                  â”‚    â”‚ Data         â”‚
â”‚ Types        â”‚    â”‚ Functions        â”‚    â”‚ Mappings     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ UI Layer Comparison

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        SAME INPUT                            â”‚
â”‚              inputs: QuickModeInputs                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                             â”‚
                â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      WEB (MUI)           â”‚    â”‚   MOBILE (Paper)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ <TextField               â”‚    â”‚ <TextInput               â”‚
â”‚   label="Birth Year"     â”‚    â”‚   label="Birth Year"     â”‚
â”‚   value={birthYear}      â”‚    â”‚   value={birthYear}      â”‚
â”‚   onChange={...}         â”‚    â”‚   onChangeText={...}     â”‚
â”‚   type="number"          â”‚    â”‚   keyboardType="numeric" â”‚
â”‚ />                       â”‚    â”‚   mode="outlined"        â”‚
â”‚                          â”‚    â”‚ />                       â”‚
â”‚ <Select                  â”‚    â”‚                          â”‚
â”‚   label="Claim Age"      â”‚    â”‚ <Picker                  â”‚
â”‚   value={claimAge}       â”‚    â”‚   selectedValue={...}    â”‚
â”‚   onChange={...}         â”‚    â”‚   onValueChange={...}    â”‚
â”‚ >                        â”‚    â”‚ >                        â”‚
â”‚   <MenuItem value={62}>  â”‚    â”‚   <Picker.Item           â”‚
â”‚     Age 62               â”‚    â”‚     label="Age 62"       â”‚
â”‚   </MenuItem>            â”‚    â”‚     value={62}           â”‚
â”‚ </Select>                â”‚    â”‚   />                     â”‚
â”‚                          â”‚    â”‚ </Picker>                â”‚
â”‚ <Card>                   â”‚    â”‚                          â”‚
â”‚   <CardContent>          â”‚    â”‚ <Card>                   â”‚
â”‚     Results...           â”‚    â”‚   <Card.Content>         â”‚
â”‚   </CardContent>         â”‚    â”‚     Results...           â”‚
â”‚ </Card>                  â”‚    â”‚   </Card.Content>        â”‚
â”‚                          â”‚    â”‚ </Card>                  â”‚
â”‚ // Chart                 â”‚    â”‚                          â”‚
â”‚ <ReactECharts            â”‚    â”‚ // Chart                 â”‚
â”‚   option={chartOptions}  â”‚    â”‚ <VictoryChart>           â”‚
â”‚ />                       â”‚    â”‚   <VictoryLine />        â”‚
â”‚                          â”‚    â”‚ </VictoryChart>          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                             â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SAME COMPUTATION                          â”‚
â”‚         computeSSHealthcareResults(inputs)                   â”‚
â”‚                                                              â”‚
â”‚                    SAME RESULTS                              â”‚
â”‚           results: SSHealthcareResults                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§ª Testing Strategy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Test @projection/shared (Once)                    â”‚
â”‚                                                              â”‚
â”‚  âœ“ Unit tests for all calculations                          â”‚
â”‚  âœ“ Type checking (tsc --noEmit)                             â”‚
â”‚  âœ“ Edge cases (max earnings, IRMAA thresholds)              â”‚
â”‚  âœ“ Constants validation                                     â”‚
â”‚                                                              â”‚
â”‚  Result: Business logic guaranteed correct                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                             â”‚
                â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Test Web UI (Minimal)  â”‚    â”‚ Test Mobile UI (Minimal) â”‚
â”‚                          â”‚    â”‚                          â”‚
â”‚  âœ“ Form renders          â”‚    â”‚  âœ“ Form renders          â”‚
â”‚  âœ“ Inputs update         â”‚    â”‚  âœ“ Inputs update         â”‚
â”‚  âœ“ Compute triggers      â”‚    â”‚  âœ“ Compute triggers      â”‚
â”‚  âœ“ Results display       â”‚    â”‚  âœ“ Results display       â”‚
â”‚  âœ“ Chart renders         â”‚    â”‚  âœ“ Chart renders         â”‚
â”‚                          â”‚    â”‚                          â”‚
â”‚  NO calculation testing  â”‚    â”‚  NO calculation testing  â”‚
â”‚  (already covered)       â”‚    â”‚  (already covered)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

*Architecture established in Phase 1, proven in Phases 3.1-3.2*
